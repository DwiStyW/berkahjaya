!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).jQuery)}(this,(function(t){"use strict";function e(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}t=t&&t.hasOwnProperty("default")?t.default:t;var i={autoShow:!1,autoHide:!1,autoPick:!1,inline:!1,container:null,trigger:null,language:"",format:"mm/dd/yyyy",date:null,startDate:null,endDate:null,startView:0,weekStart:0,yearFirst:!1,yearSuffix:"",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],itemTag:"li",mutedClass:"muted",pickedClass:"picked",disabledClass:"disabled",highlightedClass:"highlighted",template:'<div class="datepicker-container"><div class="datepicker-panel" data-view="years picker"><ul><li data-view="years prev">&lsaquo;</li><li data-view="years current"></li><li data-view="years next">&rsaquo;</li></ul><ul data-view="years"></ul></div><div class="datepicker-panel" data-view="months picker"><ul><li data-view="year prev">&lsaquo;</li><li data-view="year current"></li><li data-view="year next">&rsaquo;</li></ul><ul data-view="months"></ul></div><div class="datepicker-panel" data-view="days picker"><ul><li data-view="month prev">&lsaquo;</li><li data-view="month current"></li><li data-view="month next">&rsaquo;</li></ul><ul data-view="week"></ul><ul data-view="days"></ul></div></div>',offset:10,zIndex:1e3,filter:null,show:null,hide:null,pick:null},a=(j="undefined"!=typeof window)?window:{},s=j&&"ontouchstart"in a.document.documentElement,n="datepicker",r="click.".concat(n),h="focus.".concat(n),o="hide.".concat(n),l="keyup.".concat(n),c="pick.".concat(n),d="resize.".concat(n),u="scroll.".concat(n),p="show.".concat(n),f="touchstart.".concat(n),g="".concat(n,"-hide"),y={},m=Object.prototype.toString;function v(t){return"string"==typeof t}var w=Number.isNaN||a.isNaN;function k(t){return"number"==typeof t&&!w(t)}function D(t){return void 0===t}function b(t){return"date"===(e=t,m.call(e).slice(8,-1).toLowerCase())&&!w(t.getTime());var e}function C(t,e){for(var i=arguments.length,a=new Array(2<i?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];return function(){for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return t.apply(e,a.concat(s))}}function $(t){return'[data-view="'.concat(t,'"]')}function x(t,e){return[31,(t=t)%4==0&&t%100!=0||t%400==0?29:28,31,30,31,30,31,31,30,31,30,31][e]}function F(t,e,i){return Math.min(i,x(t,e))}var M=/(y|m|d)+/g;function Y(t,e){var i=1<arguments.length&&void 0!==e?e:1,a=(e=String(Math.abs(t))).length,s="";for(t<0&&(s+="-");a<i;)a+=1,s+="0";return s+e}var V,T=/\d+/g,I={show:function(){this.built||this.build(),this.shown||this.trigger(p).isDefaultPrevented()||(this.shown=!0,this.$picker.removeClass(g).on(r,t.proxy(this.click,this)),this.showView(this.options.startView),this.inline||(this.$scrollParent.on(u,t.proxy(this.place,this)),t(window).on(d,this.onResize=C(this.place,this)),t(document).on(r,this.onGlobalClick=C(this.globalClick,this)),t(document).on(l,this.onGlobalKeyup=C(this.globalKeyup,this)),s&&t(document).on(f,this.onTouchStart=C(this.touchstart,this)),this.place()))},hide:function(){this.shown&&(this.trigger(o).isDefaultPrevented()||(this.shown=!1,this.$picker.addClass(g).off(r,this.click),this.inline||(this.$scrollParent.off(u,this.place),t(window).off(d,this.onResize),t(document).off(r,this.onGlobalClick),t(document).off(l,this.onGlobalKeyup),s&&t(document).off(f,this.onTouchStart))))},toggle:function(){this.shown?this.hide():this.show()},update:function(){var t=this.getValue();t!==this.oldValue&&(this.setDate(t,!0),this.oldValue=t)},pick:function(t){var e=this.$element,i=this.date;this.trigger(c,{view:t||"",date:i}).isDefaultPrevented()||(i=this.formatDate(this.date),this.setValue(i),this.isInput&&(e.trigger("input"),e.trigger("change")))},reset:function(){this.setDate(this.initialDate,!0),this.setValue(this.initialValue),this.shown&&this.showView(this.options.startView)},getMonthName:function(e,i){var a=(s=this.options).monthsShort,s=s.months;return t.isNumeric(e)?e=Number(e):D(i)&&(i=e),!0===i&&(s=a),s[k(e)?e:this.date.getMonth()]},getDayName:function(e,i,a){var s=this.options,n=s.days;return t.isNumeric(e)?e=Number(e):(D(a)&&(a=i),D(i)&&(i=e)),a?n=s.daysMin:i&&(n=s.daysShort),n[k(e)?e:this.date.getDay()]},getDate:function(t){var e=this.date;return t?this.formatDate(e):new Date(e)},setDate:function(e,i){var a=this.options.filter;if(b(e)||v(e)){if(e=this.parseDate(e),t.isFunction(a)&&!1===a.call(this.$element,e,"day"))return;this.date=e,this.viewDate=new Date(e),i||this.pick(),this.built&&this.render()}},setStartDate:function(t){b(t)||v(t)?this.startDate=this.parseDate(t):this.startDate=null,this.built&&this.render()},setEndDate:function(t){b(t)||v(t)?this.endDate=this.parseDate(t):this.endDate=null,this.built&&this.render()},parseDate:function(e){var i=this.format,a=[];return b(e)||(v(e)&&(a=e.match(T)||[]),b(e=e?new Date(e):new Date)||(e=new Date),a.length===i.parts.length&&(t.each(a,(function(t,a){var s=parseInt(a,10);switch(i.parts[t]){case"yy":e.setFullYear(2e3+s);break;case"yyyy":e.setFullYear(2===a.length?2e3+s:s);break;case"mm":case"m":e.setMonth(s-1)}})),t.each(a,(function(t,a){switch(a=parseInt(a,10),i.parts[t]){case"dd":case"d":e.setDate(a)}})))),new Date(e.getFullYear(),e.getMonth(),e.getDate())},formatDate:function(e){var i,a,s,n=this.format,r="";return b(e)&&(i=e.getFullYear(),a=e.getMonth(),e=e.getDate(),s={d:e,dd:Y(e,2),m:a+1,mm:Y(a+1,2),yy:String(i).substring(2),yyyy:Y(i,4)},r=n.source,t.each(n.parts,(function(t,e){r=r.replace(e,s[e])}))),r},destroy:function(){this.unbind(),this.unbuild(),this.$element.removeData(n)}},S={click:function(e){var i=t(e.target),a=this.options,s=this.date,n=this.viewDate,r=this.format;if(e.stopPropagation(),e.preventDefault(),!i.hasClass("disabled")){var h=i.data("view"),o=n.getFullYear(),l=n.getMonth();e=n.getDate();switch(h){case"years prev":case"years next":o="years prev"===h?o-10:o+10,n.setFullYear(o),n.setDate(F(o,l,e)),this.renderYears();break;case"year prev":case"year next":o="year prev"===h?o-1:o+1,n.setFullYear(o),n.setDate(F(o,l,e)),this.renderMonths();break;case"year current":r.hasYear&&this.showView(2);break;case"year picked":r.hasMonth?this.showView(1):(i.siblings(".".concat(a.pickedClass)).removeClass(a.pickedClass).data("view","year"),this.hideView()),this.pick("year");break;case"year":o=parseInt(i.text(),10),s.setDate(F(o,l,e)),s.setFullYear(o),n.setDate(F(o,l,e)),n.setFullYear(o),r.hasMonth?this.showView(1):(i.addClass(a.pickedClass).data("view","year picked").siblings(".".concat(a.pickedClass)).removeClass(a.pickedClass).data("view","year"),this.hideView()),this.pick("year");break;case"month prev":case"month next":(l="month prev"===h?l-1:l+1)<0?(--o,l+=12):11<l&&(o+=1,l-=12),n.setFullYear(o),n.setDate(F(o,l,e)),n.setMonth(l),this.renderDays();break;case"month current":r.hasMonth&&this.showView(1);break;case"month picked":r.hasDay?this.showView(0):(i.siblings(".".concat(a.pickedClass)).removeClass(a.pickedClass).data("view","month"),this.hideView()),this.pick("month");break;case"month":l=t.inArray(i.text(),a.monthsShort),s.setFullYear(o),s.setDate(F(o,l,e)),s.setMonth(l),n.setFullYear(o),n.setDate(F(o,l,e)),n.setMonth(l),r.hasDay?this.showView(0):(i.addClass(a.pickedClass).data("view","month picked").siblings(".".concat(a.pickedClass)).removeClass(a.pickedClass).data("view","month"),this.hideView()),this.pick("month");break;case"day prev":case"day next":case"day":"day prev"===h?--l:"day next"===h&&(l+=1),e=parseInt(i.text(),10),s.setDate(1),s.setFullYear(o),s.setMonth(l),s.setDate(e),n.setDate(1),n.setFullYear(o),n.setMonth(l),n.setDate(e),this.renderDays(),"day"===h&&this.hideView(),this.pick("day");break;case"day picked":this.hideView(),this.pick("day")}}},globalClick:function(t){for(var e=t.target,i=this.element,a=this.$trigger[0],s=!0;e!==document;){if(e===a||e===i){s=!1;break}e=e.parentNode}s&&this.hide()},keyup:function(){this.update()},globalKeyup:function(t){var e=t.target,i=t.key;t=t.keyCode;this.isInput&&e!==this.element&&this.shown&&("Tab"===i||9===t)&&this.hide()},touchstart:function(e){e=e.target,this.isInput&&e!==this.element&&!t.contains(this.$picker[0],e)&&(this.hide(),this.element.blur())}},P={render:function(){this.renderYears(),this.renderMonths(),this.renderDays()},renderWeek:function(){var e=this,i=[],a=(s=this.options).weekStart,s=s.daysMin;a=parseInt(a,10)%7,s=s.slice(a).concat(s.slice(0,a));t.each(s,(function(t,a){i.push(e.createItem({text:a}))})),this.$week.html(i.join(""))},renderYears:function(){for(var t=this.options,e=this.startDate,i=this.endDate,a=t.disabledClass,s=t.filter,n=(t=t.yearSuffix,this.viewDate.getFullYear()),r=(new Date).getFullYear(),h=this.date.getFullYear(),o=[],l=!1,c=!1,d=-5;d<=6;d+=1){var u=new Date(n+d,1,1),p=!1;e&&(p=u.getFullYear()<e.getFullYear(),-5===d&&(l=p)),!p&&i&&(p=u.getFullYear()>i.getFullYear(),6===d&&(c=p)),!p&&s&&(p=!1===s.call(this.$element,u,"year"));var f=n+d===h,g=f?"year picked":"year";o.push(this.createItem({picked:f,disabled:p,text:n+d,view:p?"year disabled":g,highlighted:u.getFullYear()===r}))}this.$yearsPrev.toggleClass(a,l),this.$yearsNext.toggleClass(a,c),this.$yearsCurrent.toggleClass(a,!0).html("".concat(n+-5+t," - ").concat(n+6).concat(t)),this.$years.html(o.join(""))},renderMonths:function(){for(var e=this.options,i=this.startDate,a=this.endDate,s=this.viewDate,n=e.disabledClass||"",r=e.monthsShort,h=t.isFunction(e.filter)&&e.filter,o=s.getFullYear(),l=(s=new Date).getFullYear(),c=s.getMonth(),d=this.date.getFullYear(),u=this.date.getMonth(),p=[],f=!1,g=!1,y=0;y<=11;y+=1){var m=new Date(o,y,1),v=!1;i&&(v=(f=m.getFullYear()===i.getFullYear())&&m.getMonth()<i.getMonth()),!v&&a&&(v=(g=m.getFullYear()===a.getFullYear())&&m.getMonth()>a.getMonth()),!v&&h&&(v=!1===h.call(this.$element,m,"month"));var w=o===d&&y===u,k=w?"month picked":"month";p.push(this.createItem({disabled:v,picked:w,highlighted:o===l&&m.getMonth()===c,index:y,text:r[y],view:v?"month disabled":k}))}this.$yearPrev.toggleClass(n,f),this.$yearNext.toggleClass(n,g),this.$yearCurrent.toggleClass(n,f&&g).html(o+e.yearSuffix||""),this.$months.html(p.join(""))},renderDays:function(){var t,e,i=this.$element,a=this.options,s=this.startDate,n=this.endDate,r=this.viewDate,h=this.date,o=a.disabledClass,l=a.filter,c=a.months,d=a.weekStart,u=a.yearSuffix,p=r.getFullYear(),f=r.getMonth(),g=(r=new Date).getFullYear(),y=r.getMonth(),m=r.getDate(),v=h.getFullYear(),w=h.getMonth(),k=h.getDate(),D=[],b=p,C=f;r=!1;for(0===f?(--b,C=11):--C,t=x(b,C),(e=(h=new Date(p,f,1)).getDay()-parseInt(d,10)%7)<=0&&(e+=7),s&&(r=h.getTime()<=s.getTime()),N=t-(e-1);N<=t;N+=1){var $=new Date(b,C,N),F=!1;s&&(F=$.getTime()<s.getTime()),!F&&l&&(F=!1===l.call(i,$,"day")),D.push(this.createItem({disabled:F,highlighted:b===g&&C===y&&$.getDate()===m,muted:!0,picked:b===v&&C===w&&N===k,text:N,view:"day prev"}))}var M=[],Y=p,V=f;d=!1;for(11===f?(Y+=1,V=0):V+=1,t=x(p,f),e=42-(D.length+t),h=new Date(p,f,t),n&&(d=h.getTime()>=n.getTime()),N=1;N<=e;N+=1){var T=new Date(Y,V,N),I=Y===v&&V===w&&N===k,S=!1;n&&(S=T.getTime()>n.getTime()),!S&&l&&(S=!1===l.call(i,T,"day")),M.push(this.createItem({disabled:S,picked:I,highlighted:Y===g&&V===y&&T.getDate()===m,muted:!0,text:N,view:"day next"}))}for(var P=[],N=1;N<=t;N+=1){var j=new Date(p,f,N),q=!1;s&&(q=j.getTime()<s.getTime()),!q&&n&&(q=j.getTime()>n.getTime()),!q&&l&&(q=!1===l.call(i,j,"day"));var A=p===v&&f===w&&N===k,O=A?"day picked":"day";P.push(this.createItem({disabled:q,picked:A,highlighted:p===g&&f===y&&j.getDate()===m,text:N,view:q?"day disabled":O}))}this.$monthPrev.toggleClass(o,r),this.$monthNext.toggleClass(o,d),this.$monthCurrent.toggleClass(o,r&&d).html(a.yearFirst?"".concat(p+u," ").concat(c[f]):"".concat(c[f]," ").concat(p).concat(u)),this.$days.html(D.join("")+P.join("")+M.join(""))}},N="".concat(n,"-top-left"),j="".concat(n,"-top-right"),q="".concat(n,"-bottom-left"),A=(a="".concat(n,"-bottom-right"),[N,j,q,a].join(" ")),O=function(){function a(e){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this.$element=t(e),this.element=e,this.options=t.extend({},i,y[s.language],t.isPlainObject(s)&&s),this.$scrollParent=function(e,i){var a=1<arguments.length&&void 0!==i&&i,s="absolute"===(i=(r=t(e)).css("position")),n=a?/auto|scroll|hidden/:/auto|scroll/,r=r.parents().filter((function(e,i){return i=t(i),(!s||"static"!==i.css("position"))&&n.test(i.css("overflow")+i.css("overflow-y")+i.css("overflow-x"))})).eq(0);return"fixed"!==i&&r.length?r:t(e.ownerDocument||document)}(e,!0),this.built=!1,this.shown=!1,this.isInput=!1,this.inline=!1,this.initialValue="",this.initialDate=null,this.startDate=null,this.endDate=null,this.init()}var s,d,u;return s=a,u=[{key:"setDefaults",value:function(e){e=0<arguments.length&&void 0!==e?e:{},t.extend(i,y[e.language],t.isPlainObject(e)&&e)}}],(d=[{key:"init",value:function(){var e=this.$element,i=this.options,a=i.startDate,s=i.endDate,n=i.date;this.$trigger=t(i.trigger),this.isInput=e.is("input")||e.is("textarea"),this.inline=i.inline&&(i.container||!this.isInput),this.format=function(e){var i=String(e).toLowerCase(),a=i.match(M);if(!a||0===a.length)throw new Error("Invalid date format.");return e={source:i,parts:a},t.each(a,(function(t,i){switch(i){case"dd":case"d":e.hasDay=!0;break;case"mm":case"m":e.hasMonth=!0;break;case"yyyy":case"yy":e.hasYear=!0}})),e}(i.format),e=this.getValue(),this.initialValue=e,this.oldValue=e,n=this.parseDate(n||e),a&&(a=this.parseDate(a),n.getTime()<a.getTime()&&(n=new Date(a)),this.startDate=a),s&&(s=this.parseDate(s),a&&s.getTime()<a.getTime()&&(s=new Date(a)),n.getTime()>s.getTime()&&(n=new Date(s)),this.endDate=s),this.date=n,this.viewDate=new Date(n),this.initialDate=new Date(this.date),this.bind(),(i.autoShow||this.inline)&&this.show(),i.autoPick&&this.pick()}},{key:"build",value:function(){var e,i,a;this.built||(this.built=!0,e=this.$element,i=this.options,a=t(i.template),this.$picker=a,this.$week=a.find($("week")),this.$yearsPicker=a.find($("years picker")),this.$yearsPrev=a.find($("years prev")),this.$yearsNext=a.find($("years next")),this.$yearsCurrent=a.find($("years current")),this.$years=a.find($("years")),this.$monthsPicker=a.find($("months picker")),this.$yearPrev=a.find($("year prev")),this.$yearNext=a.find($("year next")),this.$yearCurrent=a.find($("year current")),this.$months=a.find($("months")),this.$daysPicker=a.find($("days picker")),this.$monthPrev=a.find($("month prev")),this.$monthNext=a.find($("month next")),this.$monthCurrent=a.find($("month current")),this.$days=a.find($("days")),this.inline?t(i.container||e).append(a.addClass("".concat(n,"-inline"))):(t(document.body).append(a.addClass("".concat(n,"-dropdown"))),a.addClass(g).css({zIndex:parseInt(i.zIndex,10)})),this.renderWeek())}},{key:"unbuild",value:function(){this.built&&(this.built=!1,this.$picker.remove())}},{key:"bind",value:function(){var e=this.options,i=this.$element;t.isFunction(e.show)&&i.on(p,e.show),t.isFunction(e.hide)&&i.on(o,e.hide),t.isFunction(e.pick)&&i.on(c,e.pick),this.isInput&&i.on(l,t.proxy(this.keyup,this)),this.inline||(e.trigger?this.$trigger.on(r,t.proxy(this.toggle,this)):this.isInput?i.on(h,t.proxy(this.show,this)):i.on(r,t.proxy(this.show,this)))}},{key:"unbind",value:function(){var e=this.$element,i=this.options;t.isFunction(i.show)&&e.off(p,i.show),t.isFunction(i.hide)&&e.off(o,i.hide),t.isFunction(i.pick)&&e.off(c,i.pick),this.isInput&&e.off(l,this.keyup),this.inline||(i.trigger?this.$trigger.off(r,this.toggle):this.isInput?e.off(h,this.show):e.off(r,this.show))}},{key:"showView",value:function(t){var e=this.$yearsPicker,i=this.$monthsPicker,a=this.$daysPicker,s=this.format;if(s.hasYear||s.hasMonth||s.hasDay)switch(Number(t)){case 2:i.addClass(g),a.addClass(g),s.hasYear?(this.renderYears(),e.removeClass(g),this.place()):this.showView(0);break;case 1:e.addClass(g),a.addClass(g),s.hasMonth?(this.renderMonths(),i.removeClass(g),this.place()):this.showView(2);break;default:e.addClass(g),i.addClass(g),s.hasDay?(this.renderDays(),a.removeClass(g),this.place()):this.showView(1)}}},{key:"hideView",value:function(){!this.inline&&this.options.autoHide&&this.hide()}},{key:"place",value:function(){var e,i,a,s,n,r,h,o,l,c,d;this.inline||(l=this.$element,d=this.options,e=this.$picker,i=t(document).outerWidth(),a=t(document).outerHeight(),s=l.outerWidth(),n=l.outerHeight(),r=e.width(),h=e.height(),o=(c=l.offset()).left,l=c.top,c=parseFloat(d.offset),d=N,w(c)&&(c=10),h<l&&a<l+n+h?(l-=h+c,d=q):l+=n+c,i<o+r&&(o+=s-r,d=d.replace("left","right")),e.removeClass(A).addClass(d).css({top:l,left:o}))}},{key:"trigger",value:function(e,i){return i=t.Event(e,i),this.$element.trigger(i),i}},{key:"createItem",value:function(e){var i=this.options,a=i.itemTag,s={text:"",view:"",muted:!1,picked:!1,disabled:!1,highlighted:!1},n=[];return t.extend(s,e),s.muted&&n.push(i.mutedClass),s.highlighted&&n.push(i.highlightedClass),s.picked&&n.push(i.pickedClass),s.disabled&&n.push(i.disabledClass),"<".concat(a,' class="').concat(n.join(" "),'" data-view="').concat(s.view,'">').concat(s.text,"</").concat(a,">")}},{key:"getValue",value:function(){var t=this.$element;return this.isInput?t.val():t.text()}},{key:"setValue",value:function(t){var e=0<arguments.length&&void 0!==t?t:"";t=this.$element;this.isInput?t.val(e):this.inline&&!this.options.container||t.text(e)}}])&&e(s.prototype,d),u&&e(s,u),a}();t.extend&&t.extend(O.prototype,P,S,I),t.fn&&(V=t.fn.datepicker,t.fn.datepicker=function(e){for(var i,a=arguments.length,s=new Array(1<a?a-1:0),r=1;r<a;r++)s[r-1]=arguments[r];return this.each((function(a,r){var h=t(r),o="destroy"===e;if(!(c=h.data(n))){if(o)return;var l=t.extend({},h.data(),t.isPlainObject(e)&&e),c=new O(r,l);h.data(n,c)}v(e)&&(l=c[e],t.isFunction(l)&&(i=l.apply(c,s),o&&h.removeData(n)))})),D(i)?this:i},t.fn.datepicker.Constructor=O,t.fn.datepicker.languages=y,t.fn.datepicker.setDefaults=O.setDefaults,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=V,this})}));
